---
title: Software verde
excerpt: Sobre el impacto energÃ©tico del software que hacemos
author: Alex Gascon
hero: ./verde.png
date: 2021-10-10
---

David Bonilla ha publicado hoy [un post muy interesante en su #Bonilista](https://mailchi.mp/bonillaware/energia-codigo?e=1faa572978), sobre el impacto energÃ©tico de nuestro cÃ³digo. Da la casualidad de que es algo que he vivido de cerca en AWS, asÃ­ que quiero compartir mi experiencia dado que puede ayudar a cualquiera que trabaje con software:

**TL;DR: tienes MUCHAS opciones sin cambiar de lenguaje**

---

Para dar contexto: CloudWatch es uno de los servicios mÃ¡s grandes de AWS, asÃ­ que como os podÃ©is imaginar la cantidad de trÃ¡fico que gestionÃ¡bamos era inmensa. Como es lÃ³gico, para gestionar una cantidad de trÃ¡fico enorme, necesitas una cantidad de servidores tambiÃ©n enorme. Por ello, en los Ãºltimos tiempos pusimos mucho el foco en la eficiencia de nuestros servicios

Cuando sirves tantÃ­simo trÃ¡fico cualquier mejora, aunque sea pequeÃ±a en porcentaje, termina teniendo un efecto absoluto muy grande. Mejorar en esto era un objetivo general de mi Ã¡rea

No puedo dar nÃºmeros exactos, pero sÃ­ que en varios servicios hubo cambios con mejoras de eficiencia > 10% (algunas, mucho mayores). En ningÃºn momento tuvimos que cambiar de lenguaje, ni reescribir servicios. Algunos de esos cambios no requerÃ­an mÃ¡s de 20 lÃ­neas de cÃ³digo

Al final, la clave es **mirar en quÃ© estÃ¡s gastando tu tiempo de cÃ³mputo**, y preguntarte si hay opciones mejores o incluso si te hace falta eso. Â¿Hay procesos que estÃ©s repitiendo? Â¿Hay procesos que puedan ejecutarse de forma distinta? Â¿Hay procesos que no harÃ­a falta ejecutar?

Por ejemplo, piensa en ordenar un array: ordenarlo por fuerza bruta en C puede ser mÃ¡s eficiente que ordenarlo por fuerza bruta en Ruby, no te digo que no. **Pero un algoritmo malo va a ser malo en Ruby, en C o en el lenguaje que quieras. AsÃ­ que cÃ©ntrate en mejorar eso**

En mi equipo y otros de mi Ã¡rea, encontramos muchÃ­simas optimizaciones simplemente metiendo un Profiler y analizando dÃ³nde pasa el tiempo el cÃ³digo. Â¿Es lo que esperamos o hay alguna sorpresa? Tal vez algo que se ejecuta muchas veces, o donde se pasa mucho tiempo sin necesitarlo

Muchas veces cuando nos da la sensaciÃ³n de que nuestra aplicaciÃ³n es lenta o ineficiente le echamos la culpa al lenguaje, o a las librerÃ­as. Pero igual habrÃ­a que dejar de echar balones fuera y empezar a mirar dentro. Siempre va a haber cosas que mejorar, Â¡o incluso que quitar!

AsÃ­ que, en resumen:

Puedes dedicar meses a reescribir tu aplicaciÃ³n en otro lenguaje para ser un 5% mÃ¡s eficiente

O puedes pasar unas semanas instrumentando tu cÃ³digo, analizando de verdad quÃ© estÃ¡s haciendo, y planteÃ¡ndote si de verdad estÃ¡s gastando CPU en lo que importa

---

_Este post es una adaptaciÃ³n de un hilo de Twitter que hice. Puedes ver el original empezando por el siguiente tweet:_

<blockquote class="twitter-tweet tw-align-center"><p lang="es" dir="ltr">SÃºper interesante <a href="https://twitter.com/david_bonilla?ref_src=twsrc%5Etfw">@david_bonilla</a> hoy con su <a href="https://twitter.com/hashtag/Bonilista?src=hash&amp;ref_src=twsrc%5Etfw">#Bonilista</a>, sobre el impacto energÃ©tico de nuestro cÃ³digo<a href="https://t.co/NfLR4af1YI">https://t.co/NfLR4af1YI</a><br/><br/>Da la casualidad de que es algo que he vivido de cerca en AWS, asÃ­ que hilo con mi impresiÃ³n ğŸ‘‡ğŸ§µ<br/><br/>TL;DR: tienes MUCHAS opciones sin cambiar de lenguaje</p>&mdash; Alex GascÃ³n Bononad (on vacation ğŸ ) (@AlexGasconB) <a href="https://twitter.com/AlexGasconB/status/1444724331054051330?ref_src=twsrc%5Etfw">October 3, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>